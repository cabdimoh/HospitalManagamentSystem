  {% extends 'main.html' %}  
  {% load static %}
  {% load widget_tweaks %}
  {% block content %}
    <!-- =============================modal fade======================= -->        
            <div class="modal fade" id="Searchbtn">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-body">
                    <form action="">
                      <label for="searchbtn1" class="fw-bold text-success ms-1 mb-2">Search</label>
                      <input type="search" class="form-control" id="searchbtn1" placeholder="Search">
                      <div class="modal-footer">
                          <button class="btn btn-success "> Search</button>
                      </div>
                    
                    </form>
                  
                  </div>
                </div>
              </div>
            </div>
            <div id="createPatient" class="modal fade" tabindex="-1">
              <div class="modal-dialog modal-lg modal-dialog-centered ">
                <div class="modal-content">
                  
                  <div class="modal-header">
                    <h5 class="modal-title text-success fw-bolder">Add Patient</h5>
                    <button type="button" class=" btn-close" data-bs-dismiss="modal"></button>
                  </div>
                  <div class="modal-body ">
      
                               
                      <form action="#" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row">
                            
                            
                            
                            <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                <label for="" class="form-label fw-bold ms-2">Patient Name</label>
                                {% render_field forms.patient_name class+="form-control"  %}                       
                              </div>
                              
                              
                              <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">date of birth</label>
                                  {% render_field forms.patient_dob class+="form-control  " type+='date'  %}                       
                              </div>
                              
                              
                              <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patien Gender</label>
                                  {% render_field forms.patient_sex class+="form-select"  %}                       
                              </div>
                              
                              <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patien Marital</label>
                              {% render_field forms.patient_martial class+="form-select"  %}                       
                          </div>
                          
                              <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                              <label for="" class="form-label fw-bold ms-2">Patient Phone</label>
                              {% render_field forms.patient_number class+="form-control"  %}                       
                              </div>
                              
                              <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patient Email</label>
                                  {% render_field forms.patient_email class+="form-control" type+="email"  %}                       
                              </div>
      
                              <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patient height</label>
                                  {% render_field forms.patient_height class+="form-control"  %}                       
                                </div>
      
                                <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patient Weight</label>
                                  {% render_field forms.patient_weight class+="form-control"  %}                       
                                </div>
      
                                <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patient Gaurdian name</label>
                                  {% render_field forms.emer_name class+="form-control"  %}                       
                                </div>
      
                                <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patient Gaurdian contact</label>
                                  {% render_field forms.emer_contact class+="form-control"  %}                       
                                </div>
      
                                
                                <div class="col-lg-6 col-md-12 col-sm-12 mt-2">        
                                  <label for="" class="form-label fw-bold ms-2">Patient Gaurdian relation</label>
                                  {% render_field forms.emer_relation class+="form-control"  %}                       
                                </div>
      
                                
                                <div class="col-lg-6 col-md-12 col-sm-12 mt-2 mb-3">        
                                  <label for="" class="form-label fw-bold ms-2">Patient Medical History</label>
                                  {% render_field forms.patient_medicationHistory class+="form-control"  style="height: 30px" %}                       
                                </div>
                                
                              
      
                        </div>
                
                
                          <div class="modal-footer">
                        <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-success" >Save</button>
                      </div>  
                      </form>
                    
                        
                      </div>       
                  </div>
                    </div>
</div>

<!-- ===============================Modal fade end==================== -->


  <div class="container mt-3 ">   
      
        <div class="row ">
               <div class="col-lg-3 mt-1 g-0">
                     <input type="text" placeholder="Search Department by name" class="form-control " id="myInput" onkeyup='tableSearch()'>
             
            </div>
             <div class="col-lg-3 offset-lg-6 mt-1 text-end" >
                    <button class="btn btn-success rounded-pill shadow" data-bs-toggle="modal" data-bs-target="#createPatient">
                      <img src="{% static 'css/bootstrap-icons-1.8.3/plus-lg.svg' %}" alt="" class="img-fluid" >
                    </button>
                     <button class="btn btn-success rounded-pill shadow ">
                      <img src="{% static 'css/bootstrap-icons-1.8.3/arrow-clockwise.svg' %}" alt="" class="img-fluid">
                    </button>
             
            </div>
        


       
        
        
       <div class="col-lg-12 col-md-12 col-sm-12 mt-3  border p-3 bg-white rounded table-responsive">
          <table class="table table-hover" id="myTable" data-filter-control="true" data-show-search-clear-button="true">     
             <h5 class="fw-bolder ms-1 text-success mb-2">All Patient</h5>  
                 <thead class="table-head table-success">
                  
                    <tr>
                        <th>Name</th>
                        <th>date of birth</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Gender</th>
                        <th>Marital</th>
                        <th>emergency name</th>
                        <th>emergency relations</th>
                        <th>emergency contact</th>
                        <th class="text-center">Action</th>
                         </tr>
                    </thead>
                    <tbody class="">
                      {% for p in patientlist %}
                        <tr>
                          <td>{{p.patient_name}}</td>
                          <td>{{ p.patient_dob }}</td>
                          <td>{{p.patient_number}}</td>
                          <td>{{p.patient_email}}  </td>
                          <td>{{p.patient_sex}} </td>
                          <td>{{p.patient_martial}} </td>
                          <td>{{p.emer_name}} </td>
                          <td class=""><span >{{p.emer_relation}}</span>  </td>
                          <td>{{p.emer_contact}}</td>

                            <td class="text-end">
                              <a href="{% url 'single_patient' p.id %}"  class="btn  badge rounded-pill badge bg-light"><img src="{% static 'css/bootstrap-icons-1.8.3/eye-fill.svg' %}" alt=""></a>
                                <a href="{% url 'update_patient' p.id%}" class="btn  badge bg-success "><img src="{% static 'css/bootstrap-icons-1.8.3/pen.svg' %}" alt=""></a>
                                <a href="{% url 'delete_patient' p.id%}" class="btn  badge bg-danger "><img src="{% static 'css/bootstrap-icons-1.8.3/trash.svg' %}" alt=""></a>

                            </td>                              
                       </tr>
                       {% endfor %}
                        
                    </tbody>
             
     

        </table>
               <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-end ">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a href="#" class="page-link">4</a></li>
                <li class="page-item"> <a href="#" class="page-link">5</a></li>
                <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
                </li>
    </ul>
</nav>
       </div>
        
         


    </div>
    </div>
{% endblock content %}
